{"version":3,"sources":["components/Filter.js","services/persons.js","components/Form.js","components/Person.js","components/Notification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Filter","persons","setDisplayPersons","onChange","event","inputValue","target","value","toLowerCase","filteredContacts","filter","person","name","indexOf","length","baseUrl","contactObject","axios","post","then","response","data","get","contactId","delete","id","newObject","put","Form","setPersons","newName","setNewName","newNumber","setNewNumber","setSuccessMessage","setErrorMessage","onSubmit","preventDefault","contactObj","number","personObj","find","window","confirm","changedPerson","personService","returnedPerson","map","setTimeout","catch","error","alert","returnedNote","concat","type","Person","handleRemovePerson","onClick","Notification","message","className","ErrorNotification","App","useState","displayPersons","successMessage","errorMessage","useEffect","initialPersons","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.430106bb.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ persons, setDisplayPersons }) => {\n  const handleFilterContacts = event => {\n    let inputValue = event.target.value.toLowerCase();\n\n    let filteredContacts = persons.filter(person => {\n      return person.name.toLowerCase().indexOf(inputValue) > -1;\n    });\n\n    if (inputValue.length > 0) {\n      setDisplayPersons(filteredContacts);\n    } else {\n      setDisplayPersons(persons);\n    }\n  };\n\n  return (\n    <div>\n      filter shown with <input onChange={handleFilterContacts} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n};\n\nconst create = contactObject => {\n  const request = axios.post(baseUrl, contactObject);\n  return request.then(response => response.data);\n};\n\nconst remove = contactId => {\n  return axios.delete(`${baseUrl}/${contactId}`);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then(response => response.data);\n};\n\nexport default {\n  create,\n  getAll,\n  remove,\n  update,\n};\n","import React from 'react';\nimport personService from '../services/persons';\n\nconst Form = ({\n  persons,\n  setPersons,\n  newName,\n  setNewName,\n  newNumber,\n  setNewNumber,\n  setSuccessMessage,\n  setErrorMessage,\n  setDisplayPersons,\n}) => {\n  const handleNewPerson = event => {\n    event.preventDefault();\n    const contactObj = {\n      name: newName,\n      number: newNumber,\n    };\n\n    const personObj = persons.find(person => person.name === contactObj.name);\n\n    // if person name already exists:\n    if (personObj) {\n      if (personObj.number !== contactObj.number) {\n        const confirm = window.confirm(\n          `${contactObj.name} is already added to phonebook, replace the old number with a new one?`\n        );\n\n        // change number\n        if (confirm) {\n          const changedPerson = { ...personObj, number: contactObj.number };\n\n          return personService\n            .update(changedPerson.id, changedPerson)\n            .then(returnedPerson => {\n              setPersons(\n                persons.map(person =>\n                  person.id !== changedPerson.id ? person : returnedPerson\n                )\n              );\n              setSuccessMessage(\n                `${changedPerson.name}'s number as been changed.`\n              );\n              setTimeout(() => {\n                setSuccessMessage(null);\n              }, 3000);\n            })\n            .catch(error => {\n              setErrorMessage(\n                `Information of ${newName} has already been removed from server`\n              );\n              setTimeout(() => {\n                setErrorMessage(null);\n              }, 3000);\n            });\n        } else {\n          return;\n        }\n      }\n\n      return alert(`${contactObj.name} is already added to phonebook.`);\n    }\n\n    // add new person\n    personService.create(contactObj).then(returnedNote => {\n      setPersons(persons.concat(returnedNote));\n      setDisplayPersons(persons.concat(returnedNote));\n      setNewName('');\n      setNewNumber('');\n      setSuccessMessage(`Added ${contactObj.name}`);\n      setTimeout(() => {\n        setSuccessMessage(null);\n      }, 3000);\n    });\n  };\n\n  const handleNewNumber = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleNewName = event => {\n    setNewName(event.target.value);\n  };\n\n  return (\n    <form onSubmit={handleNewPerson}>\n      <div>\n        name: <input value={newName} onChange={handleNewName} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNewNumber} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default Form;\n","import React from 'react';\n\nconst Person = ({ person, handleRemovePerson }) => {\n  return (\n    <p>\n      {person.name} {person.number}{' '}\n      <button onClick={handleRemovePerson}>delete</button>\n    </p>\n  );\n};\n\nexport default Person;\n","const Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className=\"notification\">{message}</div>;\n};\n\nexport default Notification;\n","const ErrorNotification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className=\"error-notification\">{message}</div>;\n};\n\nexport default ErrorNotification;\n","import React, { useState, useEffect } from 'react';\n\nimport Filter from './components/Filter';\nimport Form from './components/Form';\nimport Person from './components/Person';\nimport Notification from './components/Notification';\nimport ErrorNotification from './components/ErrorNotification';\nimport personService from './services/persons';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [displayPersons, setDisplayPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then(initialPersons => {\n      setPersons(initialPersons);\n      setDisplayPersons(initialPersons);\n    });\n  }, []);\n\n  const handleRemovePerson = id => {\n    const person = persons.find(n => n.id === id);\n    const confirmDelete = window.confirm(`Delete ${person.name}?`);\n\n    if (confirmDelete) {\n      setPersons(persons.filter(person => person.id !== id));\n      setDisplayPersons(persons.filter(person => person.id !== id));\n      personService.remove(id);\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={successMessage} />\n      <ErrorNotification message={errorMessage} />\n      <Filter persons={persons} setDisplayPersons={setDisplayPersons} />\n      <h3>Add a new</h3>\n      <Form\n        persons={persons}\n        setPersons={setPersons}\n        setDisplayPersons={setDisplayPersons}\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n        setSuccessMessage={setSuccessMessage}\n        setErrorMessage={setErrorMessage}\n      />\n      <h2>Numbers</h2>\n      <div>\n        {displayPersons.map(person => (\n          <Person\n            key={person.id}\n            person={person}\n            handleRemovePerson={() => handleRemovePerson(person.id)}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}